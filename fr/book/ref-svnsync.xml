<!-- -*- sgml -*- -->

<reference id="svn.ref.svnsync">
<!--
  <title>svnsync Reference&mdash;Subversion Repository Mirroring</title>
-->
  <title>Guide de référence de svnsync&nbsp;: réplication de dépôt
    Subversion</title>

  <partintro>
<!--
    <para><command>svnsync</command> is the Subversion remote
      repository mirroring tool.  Put simply, it allows you to replay
      the revisions of one repository into another one.</para>
-->
    <para><command>svnsync</command>  est l'outil de réplication de
      dépôt à distance de Subversion. En clair, il vous permet de
      rejouer les propagations d'un dépôt sur un autre dépôt.</para>

<!--
    <para>In any mirroring scenario, there are two repositories: the
      source repository, and the mirror (or <quote>sink</quote>)
      repository.  The source repository is the repository from which
      <command>svnsync</command> pulls revisions.  The mirror
      repository is the destination for the revisions pulled from the
      source repository.  Each of the repositories may be local or
      remote&mdash;they are only ever addressed by their URLs.</para>
-->
    <para>Dans tout scénario de réplication, il y a deux dépôts&nbsp;:
      le dépôt source et le dépôt miroir (ou <quote>destination</quote>).
      Le dépôt source est le dépôt à partir duquel
      <command>svnsync</command> lit les révisions. Le dépôt miroir est
      le dépôt sur lequel <command>svnsync</command> applique les
      propagations lues sur le dépôt source. Chacun des dépôts peut
      être un dépôt local ou distant (ils sont toujours uniquement
      désignés par leur URL).</para>

<!--
    <para>The <command>svnsync</command> process requires only read
      access to the source repository; it never attempts to modify it.
      But obviously, <command>svnsync</command> requires both read and
      write access to the mirror repository.</para>
-->
    <para>Le processus <command>svnsync</command> requiert un accès
      uniquement en lecture sur le dépôt source&nbsp;; il ne tente jamais
      aucune modification sur celui-ci. En revanche, bien évidemment,
      <command>svnsync</command> a besoin d'un accès en lecture et écriture
      sur le dépôt miroir.</para>

    <warning>
<!--
      <para><command>svnsync</command> is very sensitive to changes
        made in the mirror repository that weren't made as part of a
        mirroring operation.  To prevent this from happening, it's
        best if the <command>svnsync</command> process is the only
        process permitted to modify the mirror repository.</para>
-->
      <para><command>svnsync</command> est particulièrement sensible aux
        modifications faites sur le dépôt miroir qui ne sont pas issues
        d'une opération de réplication. Pour éviter ce genre d'ennui, il
        est recommandé que <command>svnsync</command> soit le seul
        processus autorisé à modifier le dépôt miroir.</para>
    </warning>

<!--
    <para>Options in <command>svnsync</command> are global, just
      as they are in <command>svn</command> and
      <command>svnadmin</command>:</para>
-->
    <para>Les options de <command>svnsync</command> sont globales, de
      même que pour <command>svn</command> et
      <command>svnadmin</command>&nbsp;:</para>

    <variablelist id="svn.ref.svnsync.sw">
<!--
      <title>svnsync Options</title>
-->
      <title>Options</title>


      <varlistentry id="svn.ref.svnsync.sw.allow_non_empty">
        <term><option>--allow-non-empty</option></term>
        <listitem>
<!--
          <para>Disables the verification (which <command>svnsync
            initialize</command> performs by default) that the
            repository being initialized is empty of history
            version.</para>
-->
          <para>Ne pas vérifier (ce que <command>svnsync
            initialize</command> fait par défaut) que le dépôt en cours
            d'initialisation est vide de tout historique.</para>
        </listitem>
      </varlistentry>

      <varlistentry id="svn.ref.svnsync.sw.config_dir">
<!--
        <term><option>- -config-dir</option> <replaceable>DIR</replaceable></term>
-->
        <term><option>--config-dir</option> <replaceable>REPERTOIRE</replaceable></term>
        <listitem>
<!--
          <para>Instructs Subversion to read configuration
            information from the specified directory instead of the
            default location (<filename>.subversion</filename> in
            the user's home directory).</para>
-->
          <para>Lire les informations de configuration dans le répertoire
            spécifié plutôt qu'à l'emplacement par défaut
            (<filename>.subversion</filename> dans le répertoire de
            l'utilisateur).</para>
        </listitem>
      </varlistentry>

      <varlistentry id="svn.ref.svnsync.sw.config_option">
        <term><option>--config-option</option> <replaceable>CONFSPEC</replaceable></term>
        <listitem>
<!--
          <para>Sets, for the duration of the command, the value of
            a runtime configuration
            option.  <replaceable>CONFSPEC</replaceable> is a string
            which specifies the configuration option namespace, name
            and value that you'd like to assign, formatted as
            <replaceable>FILE</replaceable>:<replaceable>SECTION</replaceable>:<replaceable>OPTION</replaceable>=[<replaceable>VALUE</replaceable>].
            In this syntax, <replaceable>FILE</replaceable>
            and <replaceable>SECTION</replaceable> are the runtime
            configuration file (either <filename>config</filename>
            or <filename>servers</filename>) and the section thereof,
            respectively, which contain the option whose value you
            wish to change.  <replaceable>OPTION</replaceable> is,
            of course, the option itself,
            and <replaceable>VALUE</replaceable> the value (if any)
            you wish to assign to the option.  For example, to
            temporarily disable the use of the compression in the
            HTTP protocol,
            use <option>- -config-option=servers:global:http-compression=no</option>.
            You can use this option multiple times to change
            multiple option values simultaneously.</para>
-->
          <para>Définir, pour la durée de la commande, la valeur d'une
            option de configuration.
            <replaceable>CONFSPEC</replaceable> est une chaîne de caractères
            qui spécifie l'espace de nom de l'option de configuration, son
            nom et la valeur que vous voulez lui assigner, formatée
            ainsi&nbsp;:
            <replaceable>FICHIER</replaceable>:<replaceable>SECTION</replaceable>:<replaceable>OPTION</replaceable>=[<replaceable>VALEUR</replaceable>]
            Dans cette syntaxe, <replaceable>FICHIER</replaceable> et
            <replaceable>SECTION</replaceable> sont des fichiers de la zone
            de configuration (soit
            <filename>config</filename> ou
            <filename>servers</filename>) et de la section où se trouve
            l'option dont vous voulez changer la valeur.
            <replaceable>OPTION</replaceable> est, bien sûr, le nom de
            l'option elle-même et
            <replaceable>VALEUR</replaceable> est la valeur (si vous la
            donnez) que vous voulez assigner à l'option. Par exemple, pour
            désactiver temporairement la compression dans le protocole HTTP,
            utilisez
            <option>--config-option=servers:global:http-compression=no</option>.
            Vous pouvez utiliser cette option plusieurs fois pour modifier
            les valeurs de plusieurs options temporairement.</para>
        </listitem>
      </varlistentry>

      <varlistentry id="svn.ref.svnsync.sw.disable_locking">
        <term><option>--disable-locking</option></term>
        <listitem>
<!--
          <para>Causes <command>svnsync</command> to bypass its own
            exclusive access mechanisms and operate on the
            assumption that its exclusive access to the mirror
            repository is being guaranteed through some other,
            out-of-band mechanism.</para>
-->
          <para>Contourner le dispositif de contrôle d'accès exclusif et
            considérer que l'accès exclusif au dépôt miroir est assuré par un
            mécanisme extérieur.</para>
        </listitem>
      </varlistentry>

      <varlistentry id="svn.ref.svnsync.sw.no_auth_cache">
        <term><option>--no-auth-cache</option></term>
        <listitem>
<!--
          <para>Prevents caching of authentication information
            (e.g., username and password) in the Subversion
            runtime configuration directories.</para>
-->
          <para>Ne pas conserver les éléments d'authentification (par exemple
            l'identifiant et le mot de passe) dans les zones de configuration
            de Subversion.</para>
        </listitem>
      </varlistentry>

      <varlistentry id="svn.ref.svnsync.sw.non_interactive">
        <term><option>--non-interactive</option></term>
        <listitem>
<!--
          <para>In the case of an authentication failure or
            insufficient credentials, prevents prompting for
            credentials (e.g., username or password).  This is useful
            if you're running Subversion inside an automated
            script and it's more appropriate to have Subversion fail
            than to prompt for more information.</para>
-->
          <para>Dans le cas d'un échec d'authentification ou de droits
            insuffisants, ne pas demander d'éléments d'authentification (par
            exemple identifiant et mot de passe) de manière interactive.
            Cette option est utile quand vous lancez Subversion dans un
            script totalement automatique et qu'il est plus pertinent de
            faire échouer Subversion plutôt que d'attendre une réponse
            interactive.</para>
        </listitem>
      </varlistentry>

      <varlistentry id="svn.ref.svnsync.sw.quiet">
        <term><option>--quiet</option> (<option>-q</option>)</term>
        <listitem>
<!--
          <para>Requests that the client print only essential
            information while performing an operation.</para>
-->
          <para>N'afficher que ce qui est essentiel pendant
            l'opération.</para>
        </listitem>
      </varlistentry>

      <varlistentry id="svn.ref.svnsync.sw.revision">
        <term><option>--revision</option> (<option>-r</option>) <replaceable>ARG</replaceable></term>
        <listitem>
<!--
          <para>Used by <command>svnsync copy-revprops</command> to
            specify a particular revision or revision range on which
            to operate.</para>
-->
          <para>Utilisé avec <command>svnsync copy-revprops</command> pour
            spécifier une révision ou un intervalle de révision sur lequel
            effectuer l'opération.</para>
        </listitem>
      </varlistentry>

      <varlistentry id="svn.ref.svnsync.sw.source_password">
<!--
        <term><option>- -source-password</option> <replaceable>PASSWD</replaceable></term>
-->
        <term><option>--source-password</option> <replaceable>MOT_DE_PASSE</replaceable></term>
        <listitem>
<!--
          <para>Specifies the password for the Subversion server
            from which you are syncing.  If not provided, or if
            incorrect, Subversion will prompt you for this
            information as needed.</para>
-->
          <para>Précise le mot de passe à utiliser pour s'authentifier auprès
            du serveur Subversion source. Si cette option n'est pas fournie
            ou si elle ne permet pas de s'authentifier correctement,
            Subversion demande, en tant que de besoin, le mot de passe de
            manière interactive.</para>
        </listitem>
      </varlistentry>

      <varlistentry id="svn.ref.svnsync.sw.source_prop_encoding ">
        <term><option>--source-prop-encoding <replaceable>ARG</replaceable></option></term>
        <listitem>
<!--
          <para>Instructs <command>svnsync</command> to assume that
            translatable Subversion revision properties found in the
            source repository are stored using the character
            encoding <replaceable>ARG</replaceable> and to transcode
            those into UTF-8 when copying them into the mirror
            repository.</para>
-->
          <para>Considérer que les propriétés de révisions du dépôt source
            sont stockées au format <replaceable>ARG</replaceable> et les
            transcoder en UTF-8 avant de les copier dans le dépôt
            miroir.</para>
        </listitem>
      </varlistentry>

      <varlistentry id="svn.ref.svnsync.sw.source_username">
<!--
        <term><option>- -source-username</option> <replaceable>NAME</replaceable></term>
-->
        <term><option>--source-username</option> <replaceable>NOM</replaceable></term>
        <listitem>
<!--
          <para>Specifies the username for the Subversion server
            from which you are syncing.  If not provided, or if
            incorrect, Subversion will prompt you for this
            information as needed.</para>
-->
          <para>Utiliser le nom d'utilisateur spécifié pour s'authentifier
            auprès du serveur Subversion source. Si cette option n'est pas
            fournie ou si elle ne permet pas de s'authentifier correctement,
            Subversion demande, en tant que de besoin, le nom d'utilisateur
            de manière interactive.</para>
        </listitem>
      </varlistentry>

      <varlistentry id="svn.ref.svnsync.sw.steal_lock">
        <term><option>--steal-lock</option></term>
        <listitem>
<!--
          <para>Causes <command>svnsync</command> to steal, as
            necessary, the lock which it uses on the mirror
            repository to ensure exclusive repository access.  (This
            option should only be used when a lock exists in the
            mirror repository and is known to be stale&mdash;that
            is, when you are certain that there are no
            other <command>svnsync</command> processes accessing
            that repository.)</para>
-->
          <para>Casser, si nécessaire, les verrous qui assurent l'accès
            exclusif au dépôt miroir. Cette option ne doit être utilisée que
            lorsqu'un verrou bloque l'accès au dépôt miroir et que vous savez
            que ce verrou est obsolète, c'est-à-dire quand vous êtes certain
            qu'aucun autre processus <command>svnsync</command> n'est en
            train d'accéder à ce dépôt.</para>
        </listitem>
      </varlistentry>

      <varlistentry id="svn.ref.svnsync.sw.sync_password">
<!--
        <term><option>- -sync-password</option> <replaceable>PASSWD</replaceable></term>
-->
        <term><option>--sync-password</option> <replaceable>MOT_DE_PASSE</replaceable></term>
        <listitem>
<!--
          <para>Specifies the password for the Subversion server to
            which you are syncing.  If not provided, or if
            incorrect, Subversion will prompt you for this
            information as needed.</para>
-->
          <para>Utiliser le mot de passe spécifié pour s'authentifier auprès
            du serveur Subversion destination. Si cette option n'est pas
            fournie ou si elle ne permet pas de s'authentifier correctement,
            Subversion demande, en tant que de besoin, le mot de passe de
            manière interactive.</para>
        </listitem>
      </varlistentry>

      <varlistentry id="svn.ref.svnsync.sw.sync_username">
<!--
        <term><option>- -sync-username</option> <replaceable>NAME</replaceable></term>
-->
        <term><option>--sync-username</option> <replaceable>NOM</replaceable></term>
        <listitem>
<!--
          <para>Specifies the username for the Subversion server to
            which you are syncing.  If not provided, or if
            incorrect, Subversion will prompt you for this
            information as needed.</para>
-->
          <para>Utiliser le nom d'utilisateur spécifié pour s'authentifier
            auprès du serveur Subversion destination. Si cette option n'est
            pas fournie ou si elle ne permet pas de s'authentifier
            correctement, Subversion demande, en tant que de besoin, le nom
            d'utilisateur de manière interactive.</para>
        </listitem>
      </varlistentry>

      <varlistentry id="svn.ref.svnsync.sw.trust_server_cert">
        <term><option>--trust-server-cert</option></term>
        <listitem>
<!--
          <para>Used with <option>- -non-interactive</option> to accept
            any unknown SSL server certificates without prompting.</para>
-->
          <para>Utilisée avec <option>--non-interactive</option>, accepter
            les certificats SSL serveurs signés par des autorités inconnues
            sans en informer l'utilisateur.</para>
        </listitem>
      </varlistentry>

    </variablelist>

  </partintro>

  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <refentry id="svn.ref.svnsync.c.copy-revprops">

    <indexterm>
      <primary>svnsync</primary>
<!--
      <secondary>subcommands</secondary>
-->
      <secondary>sous-commandes</secondary>
      <tertiary>copy-revprops</tertiary>
    </indexterm>

    <refnamediv>
      <refname>svnsync copy-revprops</refname>
<!--
      <refpurpose>Copy all revision properties for a particular
        revision (or range of revisions) from the source
        repository to the mirror repository.</refpurpose>
-->
      <refpurpose>Copier toutes les propriétés de révision pour une révision
        donnée (ou un intervalle de révisions) du dépôt source vers le dépôt
        miroir.</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<!--
      <para><literal>svnsync copy-revprops DEST_URL
        [SOURCE_URL]</literal></para>
      <para><literal>svnsync copy-revprops DEST_URL
        REV[:REV2]</literal></para>
-->
      <para><literal>svnsync copy-revprops URL_DEST [URL_SOURCE]</literal></para>
      <para><literal>svnsync copy-revprops URL_DEST REV[:REV2]</literal></para>
    </refsynopsisdiv>

    <!-- =============================================================== -->
    <refsect1>
      <title>Description</title>

<!--
      <para>Because Subversion revision properties can be changed
        at any time, it's possible that the properties for some
        revision might be changed after that revision has already
        been synchronized to another repository.  Because the
        <command>svnsync synchronize</command> command operates
        only on the range of revisions that have not yet been
        synchronized, it won't notice a revision property change
        outside that range.  Left as is, this causes a deviation
        in the values of that revision's properties between the
        source and mirror repositories.  <command>svnsync
        copy-revprops</command> is the answer to this problem.
        Use it to resynchronize the revision properties for a
        particular revision or range of revisions.</para>
-->
      <para>Comme les propriétés de révision Subversion peuvent être
        modifiées à n'importe quel moment, il est possible que des propriétés
        d'une révision donnée soient modifiées après que la révision a été
        répliquée sur le dépôt miroir. Comme la commande <command>svnsync
        synchronize</command> n'opère que sur un intervalle de révisions qui
        n'ont pas encore été répliquées, elle ne remarque pas la modification
        d'une propriété en dehors de cet intervalle. Si rien n'est fait pour
        contrer ce phénomène, cela entraine une divergence entre les valeurs
        des propriétés de révision du dépôt source et du dépôt miroir.
        <command>svnsync copy-revprops</command> répond à ce problème&nbsp;:
        utilisez-la pour resynchroniser les propriétés de révision pour une
        révision donnée ou pour un intervalle de révisions.</para>

<!--
      <para>When <replaceable>SOURCE_URL</replaceable> is
        provided, <command>svnsync</command> will use it as the
        repository URL which the destination repository is
        mirroring. Generally, <replaceable>SOURCE_URL</replaceable>
        will be exactly the same source URL as was used with
        the <command>svnsync initialize</command> command when the
        mirror was first set up.  You may choose, however, to
        omit <replaceable>SOURCE_URL</replaceable>, in which
        case <command>svnsync</command> will consult the mirror
        repository's records to determine the source URL which
        should be used.</para>
-->
      <para>Quand <replaceable>URL_SOURCE</replaceable> est fourni,
        <command>svnsync</command> l'utilise comme URL du dépôt que l'on veut
        répliquer. Généralement, <replaceable>URL_SOURCE</replaceable> est
        exactement la même URL que celle utilisée avec la commande
        <command>svnsync initialize</command> quand le miroir a été mis en
        place. Vous pouvez choisir, néanmoins, d'omettre
        <replaceable>URL_SOURCE</replaceable>&nbsp; dans ce cas,
        <command>svnsync</command> consulte le dépôt miroir pour déterminer
        l'URL source à utiliser.</para>

      <warning>
<!--
        <para>We strongly recommend that you specify the source
          URL on the command-line, especially when untrusted users
          have write access to the revision 0 properties
          which <command>svnsync</command> uses to coordinate its
          efforts.</para>
-->
        <para>Nous recommandons vivement de spécifier l'URL source sur la
          ligne de commande, spécialement quand des utilisateurs non de
          confiance ont le droit d'écriture sur les propriétés de la révision
          0, utilisées par <command>svnsync</command> pour se
          coordonner.</para>
      </warning>

    </refsect1>

    <!-- =============================================================== -->
    <refsect1>
      <title>Options</title>

      <informalexample>
        <screen>
<xref linkend="svn.ref.svnsync.sw.config_dir" />
<xref linkend="svn.ref.svnsync.sw.config_option" />
<xref linkend="svn.ref.svnsync.sw.disable_locking" />
<xref linkend="svn.ref.svnsync.sw.no_auth_cache" />
<xref linkend="svn.ref.svnsync.sw.non_interactive" />
<xref linkend="svn.ref.svnsync.sw.quiet" />
<xref linkend="svn.ref.svnsync.sw.revision" />
<xref linkend="svn.ref.svnsync.sw.source_password" />
<xref linkend="svn.ref.svnsync.sw.source_prop_encoding" />
<xref linkend="svn.ref.svnsync.sw.source_username" />
<xref linkend="svn.ref.svnsync.sw.steal_lock" />
<xref linkend="svn.ref.svnsync.sw.sync_password" />
<xref linkend="svn.ref.svnsync.sw.sync_username" />
<xref linkend="svn.ref.svnsync.sw.trust_server_cert" />
</screen>
      </informalexample>
    </refsect1>

    <!-- =============================================================== -->
    <refsect1>
<!--
      <title>Examples</title>
-->
      <title>Exemples</title>

<!--
      <para>Resynchronize the revision properties associated with
        a single revision (r6):</para>
-->
      <para>Re-synchroniser les propriétés de révision pour une seule
        révision&nbsp;:</para>

      <informalexample>
<!--
        <screen>
$ svnsync copy-revprops -r 6 file:///var/svn/repos-mirror \
                             http://svn.example.com/repos
Copied properties for revision 6.
$
</screen>
-->
        <screen>
$ svnsync copy-revprops -r 6 file:///var/svn/depot-miroir \
                             http://svn.exemple.com/depot
Propriétés copiées pour la révision 6.
$
</screen>

      </informalexample>

    </refsect1>
  </refentry>

  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <refentry id="svn.ref.svnsync.c.help">

    <indexterm>
      <primary>svnsync</primary>
<!--
      <secondary>subcommands</secondary>
-->
      <secondary>sous-commandes</secondary>
      <tertiary>help</tertiary>
    </indexterm>

    <refnamediv>
      <refname>svnsync help</refname>
<!--
      <refpurpose>Help!</refpurpose>
-->
      <refpurpose>À l'aide&nbsp;!</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
      <para><literal>svnsync help</literal></para>
    </refsynopsisdiv>

    <!-- =============================================================== -->
    <refsect1>
      <title>Description</title>

<!--
      <para>This subcommand is useful when you're trapped in a
        foreign prison with neither a Net connection nor a copy of
        this book, but you do have a local Wi-Fi network running
        and you'd like to sync a copy of your repository over to
        the backup server that Ira The Knife is running over in
        cell block D.</para>
-->
      <para>Cette sous-commande est utile quand vous vous retrouvez
        prisonnier dans une prison à l'étranger sans connexion Internet ni
        exemplaire de ce livre, mais que vous avez un hotspot WiFi à portée
        et que vous voulez répliquer votre dépôt vers le serveur de
        sauvegarde de Marcel Au Couteau situé dans une cellule du bloc
        D.</para>

    </refsect1>

    <refsect1>
      <title>Options</title>
<!--
      <para>None</para>
-->
      <para>Aucune</para>
    </refsect1>

  </refentry>

  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <refentry id="svn.ref.svnsync.c.info">

    <indexterm>
      <primary>svnsync</primary>
<!--
      <secondary>subcommands</secondary>
-->
      <secondary>sous-commandes</secondary>
      <tertiary>info</tertiary>
    </indexterm>

    <refnamediv>
      <refname>svnsync info</refname>
<!--
      <refpurpose>Print information about the synchronization
        of a destination repository.</refpurpose>
-->
      <refpurpose>Afficher les informations relatives à la synchronisation
        d'un dépôt miroir.</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<!--
      <para><literal>svnsync info DEST_URL</literal></para>
-->
      <para><literal>svnsync info URL_DEST</literal></para>
    </refsynopsisdiv>

    <!-- =============================================================== -->
    <refsect1>
      <title>Description</title>

<!--
      <para>Print the synchronization source URL, source repository
        UUID and the last revision merged from the source to the
        destination repository at <replaceable>DEST_URL</replaceable>.</para>
-->
      <para>Affichier l'URL source de la synchronisation, l'UUID du dépôt
        source et la dernière révision fusionnée depuis la source vers le
        dépôt de destination à l'
        <replaceable>URL_DEST</replaceable>.</para>
    </refsect1>

    <!-- =============================================================== -->
    <refsect1>
      <title>Options</title>

      <informalexample>
        <screen>
<xref linkend="svn.ref.svnsync.sw.config_dir" />
<xref linkend="svn.ref.svnsync.sw.config_option" />
<xref linkend="svn.ref.svnsync.sw.no_auth_cache" />
<xref linkend="svn.ref.svnsync.sw.non_interactive" />
<xref linkend="svn.ref.svnsync.sw.source_password" />
<xref linkend="svn.ref.svnsync.sw.source_username" />
<xref linkend="svn.ref.svnsync.sw.sync_password" />
<xref linkend="svn.ref.svnsync.sw.sync_username" />
<xref linkend="svn.ref.svnsync.sw.trust_server_cert" />
</screen>
      </informalexample>
    </refsect1>

    <!-- =============================================================== -->
    <refsect1>
<!--
      <title>Examples</title>
-->
      <title>Exemples</title>

<!--
      <para>Print the synchronization information of a mirror
        repository:</para>
-->
      <para>Affichier les informations de synchronisation d'un dépôt
        miroir&nbsp;:</para>

      <informalexample>
<!--
        <screen>
$ svnsync info file:///var/svn/repos-mirror
Source URL: http://svn.example.com/repos
Source Repository UUID: e7fe1b91-8cd5-0310-98dd-2f12e793c5e8
Last Merged Revision: 47
$
</screen>
-->
        <screen>
$ svnsync info file:///var/svn/depot-miroir
URL source : http://svn.exemple.com/depot
UUID du dépôt source : e7fe1b91-8cd5-0310-98dd-2f12e793c5e8
Dernière révision fusionnée : 47
$
</screen>
      </informalexample>

    </refsect1>
  </refentry>

  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <refentry id="svn.ref.svnsync.c.init">

    <indexterm>
      <primary>svnsync</primary>
<!--
      <secondary>subcommands</secondary>
-->
      <secondary>sous-commandes</secondary>
      <tertiary>initialize</tertiary>
    </indexterm>

    <refnamediv>
      <refname>svnsync initialize (init)</refname>
<!--
      <refpurpose>Initialize a mirror repository for
        synchronization from the source repository.</refpurpose>
-->
      <refpurpose>Initialiser un dépôt miroir pour une synchronisation à
        partir d'un dépôt source.</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<!--
      <para><literal>svnsync initialize MIRROR_URL
        SOURCE_URL</literal></para>
-->
      <para><literal>svnsync initialize URL_MIROIR URL_SOURCE</literal></para>
    </refsynopsisdiv>

    <!-- =============================================================== -->
    <refsect1>
      <title>Description</title>

<!--
      <para><command>svnsync initialize</command> verifies that a
        repository meets the basic requirements of a new mirror
        repository and records the initial administrative
        information that associates the mirror repository with the
        source repository (specified
        by <replaceable>SOURCE_URL</replaceable>).  This is the
        first <command>svnsync</command> operation you run on a
        would-be mirror repository.</para>
-->
      <para><command>svnsync initialize</command> vérifie que le dépôt répond
        aux exigences d'un dépôt miroir vierge (il n'y a pas d'historique et
        la modification des propriétés de révision est autorisée), puis
        enregistre les informations administratives initiales qui associent
        le dépôt miroir au dépôt source. C'est la première opération
        <command>svnsync</command> que vous lancez sur un dépôt miroir
        <quote>en devenir</quote>.</para>

<!--
      <para>Ordinarily, <replaceable>SOURCE_URL</replaceable> is
        the URL of the root directory of the Subversion repository
        you wish to mirror.  Subversion 1.5 and newer allow you to
        use <command>svnsync</command> for partial repository
        mirroring, though &mdash; simply specify the URL of the
        source repository subdirectory you wish to mirror
        as <replaceable>SOURCE_URL</replaceable>.</para>
-->
      <para>D'habitude, <replaceable>URL_SOURCE</replaceable> est l'URL du
        dossier racine du dépôt Subversion que vous souhaitez répliquer.
        Subversion 1.5 ou ultérieur autorisent <command>svnsync</command> à
        ne répliquer qu'une partie du dépôt source, vous devez alors
        spécifier pour <replaceable>URL_SOURCE</replaceable> l'URL du
        sous-dossier dans le dépôt source que vous souhaitez
        répliquer.</para>

<!--
      <para>By default, the aforementioned basic requirements of a
        mirror are that it allows revision property modifications
        and that it contains no version history.  However, as of
        Subversion 1.7, you may now optionally disable the
        verification that the target repository is empty using
        the <option>- -allow-non-empty</option> option.  While the
        use of this option should not become habitual (as it
        bypasses a valuable safeguard mechanism), it does aid in
        one very common use-case: initializing a copy of a
        repository as a mirror of the original.  This is
        especially handy when setting up new mirrors of
        repositories which contain a large amount of version
        history.  Rather than initialize a brand new repository as
        a mirror and then syncronize all of the history into it,
        administrators will find it <emphasis>significantly</emphasis>
        faster to first make a copy of the mature repository
        (perhaps using <command>svnadmin hotcopy</command>) and
        then use <command>svnsync initialize
        - -allow-non-empty</command> to initialize that copy as a
        mirror which is now already up-to-date with the
        original.</para>
-->
      <para>Par défaut, les prérequis déjà mentionnés pour le miroir sont
        qu'il doit autoriser les modifications de propriétés de révisions et
        qu'il ne doit contenir aucun historique. Cependant, depuis
        Subversion 1.7, vous pouvez désactiver la vérification que le serveur
        de destination est vide en utilisant l'option
        <option>--allow-non-empty</option>. Bien que l'utilisation de cette
        option ne doit pas devenir une habitude (puisqu'elle courtciruite un
        dispositif de protection), elle s'avère utile dans un cas très
        fréquent&nbsp;: initialiser une copie d'un dépôt en tant que miroir
        de l'original. C'est particulièrement pratique lorsque vous mettez
        en place des nouveaux miroirs de dépôts qui contiennent des
        historiques très volumineux. Plutôt que d'initialiser un nouveau
        dépôt vierge comme miroir puis de synchroniser tout l'historique,
        les administrateurs gagneront <emphasis>un certain temps</emphasis> à
        d'abord faire une copie du dépôt en service (par exemple avec
        <command>svnadmin hotcopy</command>), puis à utiliser
        <command>svnsync initialize --allow-non-empty</command> pour
        initialiser cette copie en tant que miroir, qui reflète déjà le
        contenu de l'original.</para>

    </refsect1>

    <!-- =============================================================== -->
    <refsect1>
      <title>Options</title>

      <informalexample>
        <screen>
<xref linkend="svn.ref.svnsync.sw.allow_non_empty" />
<xref linkend="svn.ref.svnsync.sw.config_dir" />
<xref linkend="svn.ref.svnsync.sw.config_option" />
<xref linkend="svn.ref.svnsync.sw.disable_locking" />
<xref linkend="svn.ref.svnsync.sw.no_auth_cache" />
<xref linkend="svn.ref.svnsync.sw.non_interactive" />
<xref linkend="svn.ref.svnsync.sw.quiet" />
<xref linkend="svn.ref.svnsync.sw.source_password" />
<xref linkend="svn.ref.svnsync.sw.source_prop_encoding" />
<xref linkend="svn.ref.svnsync.sw.source_username" />
<xref linkend="svn.ref.svnsync.sw.steal_lock" />
<xref linkend="svn.ref.svnsync.sw.sync_password" />
<xref linkend="svn.ref.svnsync.sw.sync_username" />
<xref linkend="svn.ref.svnsync.sw.trust_server_cert" />
</screen>
      </informalexample>
    </refsect1>

    <!-- =============================================================== -->
    <refsect1>
<!--
      <title>Examples</title>
-->
      <title>Exemples</title>

<!--
      <para>Fail to initialize a mirror repository due to
        inability to modify revision properties:</para>
-->
      <para>Tenter d'initialiser un dépôt qui ne peut pas modifier les
        propriétés de révision&nbsp;:</para>

      <informalexample>
<!--
        <screen>
$ svnsync initialize file:///var/svn/repos-mirror \
                     http://svn.example.com/repos
svnsync: Repository has not been enabled to accept revision propchanges;
ask the administrator to create a pre-revprop-change hook
$
</screen>
-->
        <screen>
$ svnsync initialize file:///var/svn/depot-miroir \
                     http://svn.exemple.com/depot
svnsync: E165006: Le dépôt n'est pas configuré pour accepter les
modifications de propriétés de révision ; parler à l'administrateur de la
procédure automatique (hook) pre-revprop-change
$
</screen>


      </informalexample>

<!--
      <para>Initialize a repository as a mirror, having already
        created a pre-revprop-change hook that
        permits all revision property changes:</para>
-->
      <para>Initialiser un dépôt en tant que miroir, après avoir créé une
        procédure automatique <literal>pre-revprop-change</literal> qui
        autorise les modifications des propriétés de révision&nbsp;:</para>

      <informalexample>
<!--
        <screen>
$ svnsync initialize file:///var/svn/repos-mirror \
                     http://svn.example.com/repos
Copied properties for revision 0.
$
</screen>
-->
        <screen>
$ svnsync initialize file:///var/svn/depot-miroir
                     http://svn.exemple.com/depot
Propriétés copiées pour la révision 0.
$
</screen>
      </informalexample>

    </refsect1>
  </refentry>

  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <!-- ================================================================= -->
  <refentry id="svn.ref.svnsync.c.sync">

    <indexterm>
      <primary>svnsync</primary>
<!--
      <secondary>subcommands</secondary>
-->
      <secondary>sous-commandes</secondary>
      <tertiary>synchronize</tertiary>
    </indexterm>

    <refnamediv>
      <refname>svnsync synchronize (sync)</refname>
<!--
      <refpurpose>Transfer all pending revisions from the source
        repository to the mirror repository.</refpurpose>
-->
      <refpurpose>Transférer toutes les révisions en attente depuis le dépôt
        source vers le dépôt miroir.</refpurpose>
    </refnamediv>

    <refsynopsisdiv>
<!--
      <para><literal>svnsync synchronize DEST_URL
        [SOURCE_URL]</literal></para>
-->
      <para><literal>svnsync synchronize URL_DEST [URL_SOURCE]</literal></para>

    </refsynopsisdiv>

    <!-- =============================================================== -->
    <refsect1>
      <title>Description</title>

<!--
      <para>The <command>svnsync synchronize</command> command
        does all the heavy lifting of a repository mirroring
        operation.  After consulting with the mirror repository to
        see which revisions have already been copied into it, it
        then begins to copy any not-yet-mirrored revisions from
        the source repository.</para>
-->
      <para>La commande <command>svnsync synchronize</command> effectue le
        gros du travail de réplication. Après avoir consulté le dépôt miroir
        pour connaître les révisions déjà copiées, elle commence la copie des
        révisions qui n'ont pas encore été copiées depuis le dépôt
        source.</para>

<!--
      <para><command>svnsync synchronize</command> can be
        gracefully canceled and restarted.</para>
-->
      <para><command>svnsync synchronize</command> peut être interrompue et
        redémarrée sans souci.</para>

<!--
      <para>When <replaceable>SOURCE_URL</replaceable> is
        provided, <command>svnsync</command> will use it as the
        repository URL which the destination repository is
        mirroring. Generally, <replaceable>SOURCE_URL</replaceable>
        will be exactly the same source URL as was used with
        the <command>svnsync initialize</command> command when the
        mirror was first set up.  You may choose, however, to
        omit <replaceable>SOURCE_URL</replaceable>, in which
        case <command>svnsync</command> will consult the mirror
        repository's records to determine the source URL which
        should be used.</para>
-->
      <para>Quand <replaceable>URL_SOURCE</replaceable> est fournie,
        <command>svnsync</command> l'utilise comme URL à répliquer.
        Généralement, <replaceable>URL_SOURCE</replaceable> est la même que
        celle qui a été utilisée pour <command>svnsync initialize</command>
        lors de la mise en place du miroir. Vous pouvez cependant omettre
        <replaceable>URL_SOURCE</replaceable>, <command>svnsync</command>
        consulte alors les enregistrements du dépôt miroir pour déterminer
        l'URL source qui doit être utilisée.</para>

      <warning>
<!--
        <para>We strongly recommend that you specify the source
          URL on the command-line, especially when untrusted users
          have write access to the revision 0 properties
          which <command>svnsync</command> uses to coordinate its
          efforts.</para>
-->
        <para>Nous recommandons vivement de spécifier l'URL source sur la
          ligne de commande, spécialement quand des utilisateurs non de
          confiance ont le droit d'écriture sur les propriétés de la révision
          0, utilisées par <command>svnsync</command> pour se
          coordonner.</para>
      </warning>


    </refsect1>

    <refsect1>
      <title>Options</title>

      <informalexample>
        <screen>
<xref linkend="svn.ref.svnsync.sw.config_dir" />
<xref linkend="svn.ref.svnsync.sw.config_option" />
<xref linkend="svn.ref.svnsync.sw.disable_locking" />
<xref linkend="svn.ref.svnsync.sw.no_auth_cache" />
<xref linkend="svn.ref.svnsync.sw.non_interactive" />
<xref linkend="svn.ref.svnsync.sw.quiet" />
<xref linkend="svn.ref.svnsync.sw.source_password" />
<xref linkend="svn.ref.svnsync.sw.source_prop_encoding" />
<xref linkend="svn.ref.svnsync.sw.source_username" />
<xref linkend="svn.ref.svnsync.sw.steal_lock" />
<xref linkend="svn.ref.svnsync.sw.sync_password" />
<xref linkend="svn.ref.svnsync.sw.sync_username" />
<xref linkend="svn.ref.svnsync.sw.trust_server_cert" />
</screen>
      </informalexample>
    </refsect1>

    <refsect1>
<!--
      <title>Examples</title>
-->
      <title>Exemple</title>

<!--
      <para>Copy unsynchronized revisions from the source
        repository to the mirror repository:</para>
-->
      <para>Copier les révisions en attente du dépôt source vers le dépôt
        miroir&nbsp;:</para>

      <informalexample>
<!--
        <screen>
$ svnsync synchronize file:///var/svn/repos-mirror \
                      http://svn.example.com/repos
Committed revision 1.
Copied properties for revision 1.
Committed revision 2.
Copied properties for revision 2.
Committed revision 3.
Copied properties for revision 3.
&hellip;
Committed revision 45.
Copied properties for revision 45.
Committed revision 46.
Copied properties for revision 46.
Committed revision 47.
Copied properties for revision 47.
$
</screen>
-->
        <screen>
$ svnsync synchronize file:///var/svn/depot-miroir \
                      http://svn.exemple.com/depot
Révision 1 propagée.
Propriétés copiées pour la révision 1.
Révision 2 propagée.
Propriétés copiées pour la révision 2.
Révision 3 propagée.
Propriétés copiées pour la révision 3.
&hellip;
Révision 45 propagée.
Propriétés copiées pour la révision 45.
Transmission des données .
Révision 46 propagée.
Propriétés copiées pour la révision 46.
Transmission des données .
Révision 47 propagée.
Propriétés copiées pour la révision 47.
$
</screen>

      </informalexample>

    </refsect1>

  </refentry>

</reference>

<!--
local variables:
sgml-parent-document: ("book.xml" "reference")
end:
-->
